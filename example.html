<div class="lore-spoilers-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>Lore Spoilers</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div>
                <input id="lore_spoilers_enabled" type="checkbox" />
                <label for="lore_spoilers_enabled">Enable Lore Spoilers</label>
            </div>
            <p><small>When enabled, World Info entries starting with the spoiler tag will be hidden in the UI but still sent to the LLM.</small></p>
            
            <hr>
            
            <div>
                <label for="lore_spoilers_tag"><strong>Spoiler Tag:</strong></label>
                <input id="lore_spoilers_tag" class="text_pole" type="text" placeholder="[SPOILER]" />
                <p><small>World Info entries starting with this tag will be hidden. Example: <code>[SPOILER]</code></small></p>
            </div>
            
            <div>
                <label for="lore_spoilers_shift"><strong>Caesar Cipher Shift (1-25):</strong></label>
                <input id="lore_spoilers_shift" class="text_pole" type="number" min="1" max="25" />
                <p><small>Number of positions to shift each letter. Default is 13 (ROT13).</small></p>
            </div>
            
            <hr>
            
            <div>
                <strong>How to Use:</strong>
                <ol>
                    <li>Enable the extension above</li>
                    <li>Go to World Info panel (book icon)</li>
                    <li>Use the buttons below to cipher/reveal ALL entries at once (no tag required)</li>
                    <li>OR for individual entries: add <code>[SPOILER]</code> at the start and use per-entry buttons</li>
                </ol>
                <p><strong>Important:</strong> The LLM always receives the unciphered plaintext automatically!</p>
                
                <div style="margin-top: 15px;">
                    <input id="lore_spoilers_cipher_all_button" class="menu_button" type="button" value="🔒 Cipher Entire Lorebook" />
                    <input id="lore_spoilers_reveal_all_button" class="menu_button" type="button" value="👁️ Reveal Entire Lorebook" style="display: none;" />
                    <p><small>Cipher or reveal ALL entries in the lorebook (no tag required).</small></p>
                </div>
            </div>
        </div>
    </div>
</div>
