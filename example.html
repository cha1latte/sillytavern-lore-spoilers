<div class="lore-spoilers-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>Lore Spoilers</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div>
                <input id="lore_spoilers_enabled" type="checkbox" />
                <label for="lore_spoilers_enabled">Enable Lore Spoilers</label>
            </div>
            <p><small>When enabled, World Info entries starting with the spoiler tag will be hidden in the UI but still sent to the LLM.</small></p>
            
            <hr>
            
            <div>
                <label for="lore_spoilers_tag"><strong>Spoiler Tag:</strong></label>
                <input id="lore_spoilers_tag" class="text_pole" type="text" placeholder="[SPOILER]" />
                <p><small>World Info entries starting with this tag will be hidden. Example: <code>[SPOILER]</code></small></p>
            </div>
            
            <div>
                <label for="lore_spoilers_shift"><strong>Caesar Cipher Shift (1-25):</strong></label>
                <input id="lore_spoilers_shift" class="text_pole" type="number" min="1" max="25" />
                <p><small>Number of positions to shift each letter. Default is 13 (ROT13).</small></p>
            </div>
            
            <hr>
            
            <div>
                <label for="lore_spoilers_test"><strong>Test Cipher:</strong></label>
                <textarea id="lore_spoilers_test" class="text_pole" rows="3" placeholder="Type text here to test..."></textarea>
                <input id="lore_spoilers_test_button" class="menu_button" type="button" value="Cipher Text" />
                <p><small>Test the Caesar cipher. Try: <code>[SPOILER]Vader is Luke's father</code></small></p>
            </div>
            
            <hr>
            
            <div>
                <strong>How to Use:</strong>
                <ol>
                    <li>Enable the extension above</li>
                    <li>Go to World Info panel (book icon)</li>
                    <li>Create or edit an entry</li>
                    <li>Start the content with your spoiler tag (e.g., <code>[SPOILER]Secret text here</code>)</li>
                    <li>Click into a spoiler entry to reveal and edit</li>
                    <li>Click the button below to hide all spoilers when done editing</li>
                    <li>The LLM always sees the original plaintext!</li>
                </ol>
                <input id="lore_spoilers_hide_button" class="menu_button" type="button" value="ðŸ”’ Hide All Spoilers Now" />
                <p><small>Manually cipher all visible World Info entries with spoiler tags.</small></p>
            </div>
        </div>
    </div>
</div>
